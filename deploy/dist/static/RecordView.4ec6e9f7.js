import{o as u,c as h,b as a,d as B,r as N,k as x,l as R,t as V,g as p,u as f,F as j,C as F,m as k}from"./index.e163935a.js";import{G}from"./Goban.f00001db.js";import{r as M,a as S}from"./PencilIcon.3798a0fd.js";import"./_plugin-vue_export-helper.a81e96fd.js";function $(y,t){return u(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])}const q={key:1},D={class:"flex items-center mx-auto",style:{"max-width":"calc(100vh - 128px)"}},A=B({__name:"RecordView",props:{id:{type:Number,required:!0}},setup(y){const t=y,d=new F,i=N(0),s=x([]);d.getRecord(t.id).then(r=>{i.value=r.board_size;for(let n=0;n<i.value;n+=1){const o=x([]);for(let e=0;e<i.value;e+=1)o.push(" ");s.push(o)}for(const{x:n,y:o,color:e}of r.stones)s[n][o]=e});async function w(r,n){d.playStone(t.id,r,n).then(({add:o,remove:e})=>{for(const c of o){const{x:l,y:m,color:z}=c;s[l][m]=z}for(const c of e){const{x:l,y:m}=c;s[l][m]=" "}})}async function g(){const{add:r,remove:n}=await d.undo(t.id);for(const o of r){const{x:e,y:c,color:l}=o;s[e][c]=l}for(const o of n){const{x:e,y:c}=o;s[e][c]=" "}}async function v(){await d.downloadRecord(t.id)}async function b(){k.push({name:"update",params:{id:t.id}})}async function _(){k.push({name:"replay",params:{id:t.id}})}async function C(){await d.pass(t.id)}return(r,n)=>(u(),h(j,null,[i.value?(u(),R(G,{key:0,size:i.value,matrix:s,onClick:w,style:{"max-width":"calc(100vh - 128px)","max-height":"calc(100vh - 128px)"}},null,8,["size","matrix"])):(u(),h("div",q,"Loading game..."+V(i.value),1)),a("div",D,[a("button",{onClick:v,class:"rounded-md ring m-2"},[p(f(M),{class:"block h-8 w-8 m-2"})]),a("button",{onClick:b,class:"rounded-md ring m-2"},[p(f(S),{class:"block h-8 w-8 m-2"})]),a("button",{onClick:_,class:"rounded-md ring m-2"},[p(f($),{class:"block h-8 w-8 m-2"})]),a("button",{onClick:C,class:"grow m-2 h-12 rounded-md bg-red-600 text-gray-800"}," Pass "),a("button",{onClick:g,class:"grow m-2 h-12 rounded-md bg-yellow-600 text-gray-800"}," Undo ")])],64))}});export{A as default};
