import{d as D,r as n,o,c as d,b as l,n as u,v as k,u as s,p as r,F as b,e as U,f as x,q as B,m as N,t as V}from"./index.2c195443.js";const W={class:"m-6 flex"},G={class:"grow"},R={key:0},q={class:"grow"},O={key:0},E={key:0,class:"m-6 flex"},H=l("div",{class:"mr-4"}," Board Size ",-1),I=l("option",{value:9},"9x9",-1),J=l("option",{value:13},"13x13",-1),M=l("option",{value:19},"19x19",-1),j=[I,J,M],K={class:"m-6 flex"},L=l("div",{class:"mr-4"}," Handicap ",-1),P={class:"grow"},T={key:0},Q={class:"m-6 flex"},X=l("div",{class:"mr-4"}," Komi ",-1),Y={class:"grow"},Z={key:0},$={class:"m-6 flex"},ee=l("div",{class:"mr-4"}," Ruleset ",-1),le=l("option",{value:"AGA"},"AGA",-1),te=l("option",{value:"JPN"},"Japanese",-1),se=l("option",{value:"CHN"},"Chinese",-1),ae=[le,te,se],oe={class:"m-6 flex"},de=l("div",{class:"mr-4"}," Name ",-1),ne={class:"m-6 flex"},ie=l("div",{class:"mr-4"}," Comment ",-1),ue={key:1,class:"m-6 flex"},re=l("div",{class:"mr-4"}," Winner ",-1),ce=l("option",{value:"U"},"Undecided",-1),me=l("option",{value:"B"},"Black",-1),_e=l("option",{value:"W"},"White",-1),pe=[ce,me,_e],ve=l("button",{type:"submit",class:"grow m-2 w-full bg-gray-300 rounded-md"},"Done",-1),he=D({__name:"GameSettings",props:{defaults:Object,create:Function,update:Function},setup(C){const a=C;let z=!!a.create,A=!a.create,{board_size:y,name:c,black_player:m,white_player:_,comment:p,handicap:v,komi:f,ruleset:h,winner:w}={board_size:n(19),name:n(""),black_player:n("Black"),white_player:n("White"),comment:n(""),handicap:n(0),komi:n(7.5),ruleset:n("AGA"),winner:n("U")};a.defaults&&(y.value=a.defaults.board_size,c.value=a.defaults.name,m.value=a.defaults.black_player,_.value=a.defaults.white_player,p.value=a.defaults.comment,v.value=a.defaults.handicap,f.value=a.defaults.komi,h.value=a.defaults.ruleset,w.value=a.defaults.winner);let i=n({});async function F(g){g.preventDefault();let t=null;if(a.create){let e={board_size:y.value,name:c.value,black_player:m.value,white_player:_.value,comment:p.value,handicap:parseInt(v.value),komi:parseFloat(f.value),ruleset:h.value};t=await a.create(e)}else if(a.update){let e={name:c.value,black_player:m.value,white_player:_.value,comment:p.value,handicap:parseInt(v.value),komi:parseFloat(f.value),ruleset:h.value,winner:w.value};t=await a.update(e)}t&&t.is_err()&&(i.value=t.error())}async function S(g){g.preventDefault(),N.back()}return(g,t)=>(o(),d("form",{onSubmit:F},[l("div",W,[l("div",G,[l("div",null,[u(l("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r(m)?m.value=e:m=e),class:"px-2 bg-gray-900 text-gray-200 w-full rounded-md"},null,512),[[k,s(m)]])]),s(i).black_player?(o(),d("ul",R,[(o(!0),d(b,null,U(s(i).black_player,e=>(o(),d("li",{key:e,class:"text-sm text-red-600"},V(e),1))),128))])):x("",!0)]),l("div",q,[l("div",null,[u(l("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r(_)?_.value=e:_=e),class:"px-2 bg-white text-gray-900 placeholder:italic placeholder:text-gray-300 w-full rounded-md"},null,512),[[k,s(_)]])]),s(i).white_player?(o(),d("ul",O,[(o(!0),d(b,null,U(s(i).white_player,e=>(o(),d("li",{key:e,class:"text-sm text-red-600"},V(e),1))),128))])):x("",!0)])]),s(z)?(o(),d("div",E,[H,u(l("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>r(y)?y.value=e:y=e),class:"grow rounded-md"},j,512),[[B,s(y)]])])):x("",!0),l("div",K,[L,l("div",P,[l("div",null,[u(l("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>r(v)?v.value=e:v=e),class:"w-full rounded-md"},null,512),[[k,s(v)]])]),s(i).handicap?(o(),d("ul",T,[(o(!0),d(b,null,U(s(i).handicap,e=>(o(),d("li",{key:e,class:"text-sm text-red-600"},V(e),1))),128))])):x("",!0)])]),l("div",Q,[X,l("div",Y,[l("div",null,[u(l("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>r(f)?f.value=e:f=e),class:"w-full rounded-md"},null,512),[[k,s(f)]])]),s(i).komi?(o(),d("ul",Z,[(o(!0),d(b,null,U(s(i).komi,e=>(o(),d("li",{key:e,class:"text-sm text-red-600"},V(e),1))),128))])):x("",!0)])]),l("div",$,[ee,u(l("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>r(h)?h.value=e:h=e),class:"grow rounded-md"},ae,512),[[B,s(h)]])]),l("div",oe,[de,u(l("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>r(c)?c.value=e:c=e),placeholder:"Optional",class:"grow rounded-md"},null,512),[[k,s(c)]])]),l("div",ne,[ie,u(l("textarea",{"onUpdate:modelValue":t[7]||(t[7]=e=>r(p)?p.value=e:p=e),placeholder:"Optional",class:"grow rounded-md"},null,512),[[k,s(p)]])]),s(A)?(o(),d("div",ue,[re,u(l("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>r(w)?w.value=e:w=e),class:"grow rounded-md"},pe,512),[[B,s(w)]])])):x("",!0),l("div",{class:"m-6 flex"},[l("button",{onClick:S,class:"grow m-2 w-full bg-gray-200 rounded-md"},"Cancel"),ve])],32))}});export{he as _};
