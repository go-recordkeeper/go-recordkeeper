import{d as k,r as i,o as t,c as o,b as e,n as m,v as _,u as a,p,F as x,e as v,f as u,g as V,h as b,i as h,C,m as L,j as N,t as f}from"./index.2c195443.js";const B={class:"mx-auto max-w-lg"},D=e("div",{class:"my-10 text-4xl text-center"},"Log in",-1),F={class:"my-6 flex"},R=e("div",{class:"mr-4"},"Username",-1),S={class:"grow"},U={key:0},E={class:"my-6 flex"},T=e("div",{class:"mr-4"},"Password",-1),j={class:"grow"},I={key:0},M={key:0,class:"my-2 text-md text-red-600 text-center"},P=e("button",{type:"submit",class:"my-2 w-full bg-gray-200 rounded-md"},"Log in",-1),q={class:"my-6 text-center"},z=h(" No account? "),A=h("Sign up!"),J=k({__name:"LoginView",setup(G){let w=new C,r=i(""),d=i(""),l=i({});async function y(c){c.preventDefault();let n=await w.login(r.value,d.value);n.is_ok()?L.push({name:"records"}):l.value=n.error()}return(c,n)=>{const g=N("RouterLink");return t(),o("div",B,[D,e("form",{onSubmit:y},[e("div",F,[R,e("div",S,[e("div",null,[m(e("input",{"onUpdate:modelValue":n[0]||(n[0]=s=>p(r)?r.value=s:r=s),class:"w-full rounded-md"},null,512),[[_,a(r)]])]),a(l).username?(t(),o("ul",U,[(t(!0),o(x,null,v(a(l).username,s=>(t(),o("li",{key:s,class:"text-sm text-red-600"},f(s),1))),128))])):u("",!0)])]),e("div",E,[T,e("div",j,[e("div",null,[m(e("input",{"onUpdate:modelValue":n[1]||(n[1]=s=>p(d)?d.value=s:d=s),type:"password",class:"w-full rounded-md"},null,512),[[_,a(d)]])]),a(l).password?(t(),o("ul",I,[(t(!0),o(x,null,v(a(l).password,s=>(t(),o("li",{key:s,class:"text-sm text-red-600"},f(s),1))),128))])):u("",!0)])]),a(l).authFailed?(t(),o("div",M," Incorrect username or password ")):u("",!0),P],32),e("div",q,[z,V(g,{to:{name:"register"},class:"text-blue-800 underline"},{default:b(()=>[A]),_:1})])])}}});export{J as default};
