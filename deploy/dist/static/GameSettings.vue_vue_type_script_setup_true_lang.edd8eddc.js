import{d as D,r as n,w as N,o as a,c as o,b as e,n as d,v as w,u as i,p as r,F as b,e as U,f as y,q as B,m as W,t as V}from"./index.e163935a.js";const G={class:"m-6 flex"},R={class:"grow"},q={key:0},E={class:"grow"},O={key:0},H={key:0,class:"m-6 flex"},I=e("div",{class:"mr-4"},"Board Size",-1),J=e("option",{value:9},"9x9",-1),M=e("option",{value:13},"13x13",-1),j=e("option",{value:19},"19x19",-1),K=[J,M,j],L={class:"m-6 flex"},P=e("div",{class:"mr-4"},"Handicap",-1),T={class:"grow"},Q={key:0},X={class:"m-6 flex"},Y=e("div",{class:"mr-4"},"Komi",-1),Z={class:"grow"},$={key:0},ee={class:"m-6 flex"},le=e("div",{class:"mr-4"},"Ruleset",-1),te=e("option",{value:"AGA"},"AGA",-1),se=e("option",{value:"JPN"},"Japanese",-1),ae=e("option",{value:"CHN"},"Chinese",-1),oe=[te,se,ae],ne={class:"m-6 flex"},ue=e("div",{class:"mr-4"},"Name",-1),de={class:"m-6 flex"},ie=e("div",{class:"mr-4"},"Comment",-1),re={key:1,class:"m-6 flex"},ce=e("div",{class:"mr-4"},"Winner",-1),me=e("option",{value:"U"},"Undecided",-1),ve=e("option",{value:"B"},"Black",-1),_e=e("option",{value:"W"},"White",-1),pe=[me,ve,_e],fe=e("button",{type:"submit",class:"grow m-2 w-full bg-gray-300 rounded-md"}," Done ",-1),we=D({__name:"GameSettings",props:{defaults:Object,create:Function,update:Function},setup(S){const s=S,C=!!s.create,z=!s.create,{board_size:k,name:c,black_player:m,white_player:v,comment:_,handicap:p,komi:f,ruleset:h,winner:x}={board_size:n(19),name:n(""),black_player:n("Black"),white_player:n("White"),comment:n(""),handicap:n("0"),komi:n("7.5"),ruleset:n("AGA"),winner:n("U")};N(()=>{s.defaults&&(k.value=s.defaults.board_size,c.value=s.defaults.name,m.value=s.defaults.black_player,v.value=s.defaults.white_player,_.value=s.defaults.comment,p.value=s.defaults.handicap.toString(),f.value=s.defaults.komi.toString(),h.value=s.defaults.ruleset,x.value=s.defaults.winner)});const u=n({});async function A(g){g.preventDefault();let t=null;if(s.create){const l={board_size:k.value,name:c.value,black_player:m.value,white_player:v.value,comment:_.value,handicap:parseInt(p.value),komi:parseFloat(f.value),ruleset:h.value};t=await s.create(l)}else if(s.update){const l={name:c.value,black_player:m.value,white_player:v.value,comment:_.value,handicap:parseInt(p.value),komi:parseFloat(f.value),ruleset:h.value,winner:x.value};t=await s.update(l)}t&&t.is_err()&&(u.value=t.error())}async function F(g){g.preventDefault(),W.back()}return(g,t)=>(a(),o("form",{onSubmit:A},[e("div",G,[e("div",R,[e("div",null,[d(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>r(m)?m.value=l:null),class:"px-2 bg-gray-900 text-gray-200 w-full rounded-md"},null,512),[[w,i(m)]])]),u.value.black_player?(a(),o("ul",q,[(a(!0),o(b,null,U(u.value.black_player,l=>(a(),o("li",{key:l,class:"text-sm text-red-600"},V(l),1))),128))])):y("",!0)]),e("div",E,[e("div",null,[d(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>r(v)?v.value=l:null),class:"px-2 bg-white text-gray-900 placeholder:italic placeholder:text-gray-300 w-full rounded-md"},null,512),[[w,i(v)]])]),u.value.white_player?(a(),o("ul",O,[(a(!0),o(b,null,U(u.value.white_player,l=>(a(),o("li",{key:l,class:"text-sm text-red-600"},V(l),1))),128))])):y("",!0)])]),C?(a(),o("div",H,[I,d(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>r(k)?k.value=l:null),class:"grow rounded-md"},K,512),[[B,i(k)]])])):y("",!0),e("div",L,[P,e("div",T,[e("div",null,[d(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>r(p)?p.value=l:null),class:"w-full rounded-md"},null,512),[[w,i(p)]])]),u.value.handicap?(a(),o("ul",Q,[(a(!0),o(b,null,U(u.value.handicap,l=>(a(),o("li",{key:l,class:"text-sm text-red-600"},V(l),1))),128))])):y("",!0)])]),e("div",X,[Y,e("div",Z,[e("div",null,[d(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>r(f)?f.value=l:null),class:"w-full rounded-md"},null,512),[[w,i(f)]])]),u.value.komi?(a(),o("ul",$,[(a(!0),o(b,null,U(u.value.komi,l=>(a(),o("li",{key:l,class:"text-sm text-red-600"},V(l),1))),128))])):y("",!0)])]),e("div",ee,[le,d(e("select",{"onUpdate:modelValue":t[5]||(t[5]=l=>r(h)?h.value=l:null),class:"grow rounded-md"},oe,512),[[B,i(h)]])]),e("div",ne,[ue,d(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>r(c)?c.value=l:null),placeholder:"Optional",class:"grow rounded-md"},null,512),[[w,i(c)]])]),e("div",de,[ie,d(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=l=>r(_)?_.value=l:null),placeholder:"Optional",class:"grow rounded-md"},null,512),[[w,i(_)]])]),z?(a(),o("div",re,[ce,d(e("select",{"onUpdate:modelValue":t[8]||(t[8]=l=>r(x)?x.value=l:null),class:"grow rounded-md"},pe,512),[[B,i(x)]])])):y("",!0),e("div",{class:"m-6 flex"},[e("button",{onClick:F,class:"grow m-2 w-full bg-gray-200 rounded-md"}," Cancel "),fe])],32))}});export{we as _};
