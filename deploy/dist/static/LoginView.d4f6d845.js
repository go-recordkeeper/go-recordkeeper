import{d as k,r as i,c as t,b as e,m,v as _,u as a,n as p,F as x,e as v,p as u,f as V,w as b,g as w,C,k as L,h as N,o,t as f}from"./index.4a47b73f.js";const B={class:"mx-auto max-w-lg"},D=e("div",{class:"my-10 text-4xl text-center"},"Log in",-1),F={class:"my-6 flex"},R=e("div",{class:"mr-4"},"Username",-1),S={class:"grow"},U={key:0},E={class:"my-6 flex"},T=e("div",{class:"mr-4"},"Password",-1),I={class:"grow"},M={key:0},P={key:0,class:"my-2 text-md text-red-600 text-center"},j=e("button",{type:"submit",class:"my-2 w-full bg-gray-200 rounded-md"},"Log in",-1),q={class:"my-6 text-center"},z=w(" No account? "),A=w("Sign up!"),J=k({__name:"LoginView",setup(G){let h=new C,r=i(""),d=i(""),l=i({});async function y(c){c.preventDefault();let n=await h.login(r.value,d.value);n.is_ok()?L.push({name:"records"}):l.value=n.error()}return(c,n)=>{const g=N("RouterLink");return o(),t("div",B,[D,e("form",{onSubmit:y},[e("div",F,[R,e("div",S,[e("div",null,[m(e("input",{"onUpdate:modelValue":n[0]||(n[0]=s=>p(r)?r.value=s:r=s),class:"w-full rounded-md"},null,512),[[_,a(r)]])]),a(l).username?(o(),t("ul",U,[(o(!0),t(x,null,v(a(l).username,s=>(o(),t("li",{key:s,class:"text-sm text-red-600"},f(s),1))),128))])):u("",!0)])]),e("div",E,[T,e("div",I,[e("div",null,[m(e("input",{"onUpdate:modelValue":n[1]||(n[1]=s=>p(d)?d.value=s:d=s),type:"password",class:"w-full rounded-md"},null,512),[[_,a(d)]])]),a(l).password?(o(),t("ul",M,[(o(!0),t(x,null,v(a(l).password,s=>(o(),t("li",{key:s,class:"text-sm text-red-600"},f(s),1))),128))])):u("",!0)])]),a(l).authFailed?(o(),t("div",P," Incorrect username or password ")):u("",!0),j],32),e("div",q,[z,V(g,{to:{name:"register"},class:"text-blue-800 underline"},{default:b(()=>[A]),_:1})])])}}});export{J as default};
